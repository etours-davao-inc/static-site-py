{% extends 'base.html' %}
{% block metadata %}
  {{ super() }}
  <title>{{tourpackage.metatitle}}</title>
  <meta name="description" content="{{tourpackage.metadescription}}" />
  <meta name="keywords" content="{{tourpackage.metakeywords}}" />
{% endblock %}
{% block stylesheets %}
  {% compress 'css' %}
    {{ super() }}
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/tourpackage.css')}}" />
    <link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/loader.css')}}" />
  {% endcompress %}
{% endblock %}
{% block container %}
  <div id="tourpackage-wrapper">
    <div class="tourpackage_info_wrapper">
      <h1 id="tourpackage_title" class="m-0 pb-0">{{tourpackage.name}}</h1>
      <span><small>Last Updated: {{today}}</small></span>
      <p id="tourpackage_code_duration" class="mt-3">{{tourpackage.duration_text}}</p>
      <p id="tourpackage_description">{{tourpackage.description}}</p>
      <div id="tourpackage_info_wrapper">
        {{tourpackage.info | safe }}
      </div>
      <h3 style="color: #d35400; font-size: 1em">Terms and conditions</h3>
      <div id="tourpackage_info_wrapper">
        {{tourpackage.terms | safe }}
      </div>
      <h3 style="color: #d35400; font-size: 1em">Responsibilities</h3>
      <div id="tourpackage_info_wrapper">
        {{tourpackage.responsibilites | safe }}
      </div>
    </div>

    <span id="bookingForm" class="rounded">
      <noscript>Your browser does not support JavaScript!</noscript>
      <div class="rounded d-flex justify-content-center align-items-center bg-white" style="min-height: 200px"> 
        <div class="lds-ellipsis">
          <div></div>
          <div></div>
          <div></div>
          <div></div>
        </div>
      </div>
    </span>
  </div>
  <div id="modal"></div>
{% endblock %}
{% block script %}
  {{ super() }}
  <script type="text/javascript" src="{{url_for('static', filename='js/bookingForm.js')}}"></script>
  <script>
    const data = {{data | safe }}
    document.addEventListener("DOMContentLoaded", function() {
      bookingForm.mount(data)
    });
  </script>
{% endblock %}